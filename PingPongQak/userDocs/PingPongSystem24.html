
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>PingPongSystem24</title>
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/css/foundation.min.css" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/js/foundation.min.js"crossorigin="anonymous"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/templateISS.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/main.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/navbar.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/table.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/code.css">
        <!-- <script type="text/javascript" src="./commons/resources/scripts/myScripts.js"></script> -->
<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
	font-size: 93%;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
	border-radius: 10px;
	padding: 5px;
}

top {
	width: 100%;
}


#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 90%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #abe876;
    color: #1632cc;
}
bc{
	font-family: "Arial";
	font-size: 90%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	font-size: 90%;
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	font-size: 90%;
}
pre{
	font-family: "Consolas";
	font-size: 85%;
	background-color: #f5f5f5;
	border: 1.5px solid silver;
	padding: 5px;
}
m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{

    font-size: 18px;
}
k{
    color: #990000;
	font-weight: bold;
	font-size: 90%;
}
h1 {
    font-size: 150%;
    background-color: #b2c0ff;
	padding: 10px;
}

h2 {
    background-color: #9ed8ff;
    font-size: 130%;
}

h3 {
	background-color: #e6ccff;
    font-size: 100%;
}
h4 {
    background-color: #ccffcc;
    font-size: 100%;
	width: 95%;
	border-radius: 5px;
	padding: 2px;
}
h5 {
    background-color: #d5ffb0;
    font-size: 100%;

}
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}
div.remark{
	background-color: #E3F2FD;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

ol, ul, li {
  margin: 0;
  margin-left: 10px;
  padding: 0;
  padding-bottom: 5px;
}

table, th, td {
	border: 1px solid black;
}

img {
	border: 1.5px solid #d5f2ed

}

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

div.wrapdesc{
	width: 90%;
	margin: auto;
}

div.imagedesc{
	width: 85%;
	margin: auto;
}
</style>



</head>




  </head><body>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="pingpongsystem24">
<h1>PingPongSystem24<a class="headerlink" href="#pingpongsystem24" title="Permalink to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduzione<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>design e sviluppo di un sistema che simuli lo scambio di informazioni nello stile ping-pong</p>
</section>
<section id="requirements">
<h2>Requisiti<a class="headerlink" href="#requirements" title="Permalink to this heading">¶</a></h2>
<p>Creare un sistema distribuito che simuli come le informazioni vengono scambiate tra un giocatore ping e un giocatore pong, con un referee che faccia da osservatore e coordinatore della comunicazione</p>
<p>Lo scopo non è quello di simulare il gioco, bensì di simulare l'interazione tra i componenti</p>
</section>
<section id="requirement-analysis">
<h2>Analisi dei requisiti<a class="headerlink" href="#requirement-analysis" title="Permalink to this heading">¶</a></h2>
<p>Nel gioco del ping pong sono presenti:</p>
<ul class="simple">
<li><p>Due giocatori, ovvero ping e pong</p></li>
<li><p>Un arbitro (referee) che coordina e osserva la comunicazione</p></li>
<li><p>Una palla (ball) che viene scambiata tra i giocatori</p></li>
<li><p>Un mandante iniziale (definito come ping dal committente)</p></li>
</ul>
<section id="a-first-model-of-the-system">
<h3>Un primo modello<a class="headerlink" href="#a-first-model-of-the-system" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Ping, pong e referee possono essere modellati come attori in quanto entità attive, con flussi di esecuzione autonomi e indipendenti.</p></li>
<li><p>La palla può essere modellata come un messaggio, ma non si hanno abbastanza informazioni per capire se implementarla come:</p>
<ul>
<li><p>una dispatch</p></li>
<li><p>una request</p></li>
<li><p>un evento</p></li>
</ul>
</li>
</ul>
<p>Di conseguenza, una <a href='../src/pingpong_req_an.qaktt'>prima versione del modello</a> non include scambi di messaggi.</p>

</section>
<section id="functional-test-plans-non-formal">
<h3>Functional test plans (non formale)<a class="headerlink" href="#functional-test-plans-non-formal" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Il sistema funziona correttamente se la palla viene scambiata continuamente tra i giocatori</p></li>
<li><p>Ciononostante, il sistema potrebbe non riuscire a terminare dopo un certo numero di scambi.</p></li>
</ul>
</section>
</section>
<section id="problem-analysis">
<h2>Analisi del problema<a class="headerlink" href="#problem-analysis" title="Permalink to this heading">¶</a></h2>
<p>Per capire con quale tipo di messaggio modellare la palla constatiamo che:</p>
<ul class="simple">
<li><p>un evento non sarebbe adatto a rappresentarla in quanto la palla viene scambiata tra due precisi endpoint</p></li>
<li><p>una request non sarebbe adatta in quanto lo scopo di ciascu giocatore è di evitare di avere una risposta dall'altro giocatore</p></li>
<li><p>una dispatch invece sembrerebbe più adatta</p></li>
</ul>
<p><span class="slidekp">Il problema della terminazione</span>.</p>
<p>Per evitare che vi sia uno scambio infinito assumiamo che il sistema termini quando un giocatore non riceve la palla entro un lasso di tempo prefissato TMAX.</p>
<section id="tmax">
<h3>TMAX<a class="headerlink" href="#tmax" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="n">TMAX</span> <span class="o">=</span> <span class="mi">1500</span>
</pre></div>
</div>
<p>Questo permette di tener conto di diverse situazioni:</p>
<ul class="simple">
<li><p>un giocatore non è riuscito a ricevere la palla</p></li>
<li><p>la palla viene persa, fuori dal campo</p></li>
<li><p>la palla ha colpito la rete</p></li>
<li><p>…</p></li>
</ul>
<p>Non ci occupiamo di chi vince il gioco in quanto lo scopo è unicamente quello di effettuare la comunicazione</p>
</section>
</section>
<section id="logical-architecture">
<h2>Architettura logica<a class="headerlink" href="#logical-architecture" title="Permalink to this heading">¶</a></h2>
<p><span class="slide3">Project pingpong24</span></p>
<section id="the-ping-pong-system">
<h3>Il sistema ping-pong<a class="headerlink" href="#the-ping-pong-system" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate">
<div class="highlight"><pre>
<p>In una prima fase, sarebbe saggio <span class="slide2">creare una logica di interazione</span> definendo un <a href="../src/pingpong_log_int.qaktt">primo modello eseguibile </a>dove tutti e tre
tutti gli attori sono <span class="slide2">in un unico contesto</span>.</p>
</pre></div>
</div>
</section>



</section>
<section id="test-plans">
<h2>Test plans<a class="headerlink" href="#test-plans" title="Permalink to this heading">¶</a></h2>
<p>Poniamo che:</p>
<ul class="simple">
<li><p>Il sistema funzioni correttamente se ping colpisce la palla per la quinta volta</p></li>
</ul>
<p>Per automatizzare il test, una testUnit dovrebbe:</p>
<ol class="arabic simple">
<li><p>attivare il sistema</p></li>
<li><p>capire quando il sistema termina</p></li>
<li><p>osservare lo stato di uno o più giocatori, ad esempio ping</p></li>
</ol>
<section id="a-testable-system">
<h3>Un sistema testabile<a class="headerlink" href="#a-testable-system" title="Permalink to this heading">¶</a></h3>
<p>Al fine di automatizzare il test si introducono i seguenti messaggi:</p>
<ol>
  <li><b>ball</b>: usato per osservare lo stato del giocatore</li>
  <li><b>ballview</b>: usato per richiedere il risultato al referee</li>
</ol>
Il sistema creato viene descritto nel <a href="../src/pingpong.qak">seguente file</a>.

</section>
<section id="deployment">
<h2>Deployment<a class="headerlink" href="#deployment" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Eseguire <code class="docutils literal notranslate"><span class="pre">gradlew</span> <span class="pre">distZip</span></code></p></li>
<li><p>Gradle genera: <code class="docutils literal notranslate"><span class="pre">pingpong24\build\distributions\pingpong24-1.0.zip</span></code></p></li>
<li><p>Copia il file .zip in qualche directory (e.g. <code class="docutils literal notranslate"><span class="pre">C:/Iss24Run</span></code>)</p></li>
<li><p>Fare l'unzip del file</p></li>
<li><p>Posizionarsi sulla directory <code class="docutils literal notranslate"><span class="pre">pingpong24-1.0\bin</span></code></p></li>
<li><p>Eseguire uno dei seguenti scripts:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pingpong24.bat</span></code>   (in Windows)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pingpong24.sh</span></code>    (in Unix)</p></li>
</ul>
</li>
</ol>
<section id="testunit">
<h3>testUnit<a class="headerlink" href="#testunit" title="Permalink to this heading">¶</a></h3>
<p>Una Unit Test viene riportata in <a class="reference external" href="src/main/java/test/TestPingPong24SingleCtx.java">TestPingPong24SingleCtx</a></p>
<p>Ci sono due modi per avviare il sistema:</p>
<ul>
<li><p><span class="slide2">activateSystemUsingGradle</span>: attiva il sistema da testare eseguendo</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Process</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Runtime</span><span class="o">.</span><span class="n">getRuntime</span><span class="p">()</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="s2">&quot;./gradlew.bat runAll&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p><span class="slide2">activateSystemUsingDeploy</span>: attiva il sistema da testare eseguendo</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Process</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Runtime</span><span class="o">.</span><span class="n">getRuntime</span><span class="p">()</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="s2">&quot;./src/main/java/test/pingpongexec.bat&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>dove ``pingpongexec.bat`` è legato a quanto fatto nel <a class="reference internal" href="#deployment"><span class="std std-ref"> Deployment</span></a> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">C</span><span class="p">:</span><span class="o">/</span><span class="n">iss24Run</span><span class="o">/</span><span class="n">pingpong24</span><span class="o">-</span><span class="mf">1.0</span><span class="o">/</span><span class="nb">bin</span>
<span class="n">pingpong24</span><span class="o">.</span><span class="n">bat</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
</section>
          </div>
        </div>
      </div>

  </body>
</html>
